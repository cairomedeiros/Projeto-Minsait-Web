<div class="card">
    <p-table [value]="tutor" [scrollable]="true" scrollHeight="400px" [tableStyle]="{'min-width': '50rem'}">
        <ng-template pTemplate="header">
            <tr>
                <th>Nome</th>
                <th>CPF</th>
                <th>Data de nascimento</th>
                <th>Endereço</th>
                <th>Telefone</th>
                <th>Funcionalidades</th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-tutor>
            <tr>
                <td>{{tutor.nome}}</td>
                <td>{{tutor.cpf}}</td>
                <td>{{tutor.dataNascimento}}</td>
                <td>{{tutor.endereco}}</td>
                <td>{{tutor.telefone}}</td>
                <td class="funcionalidades-tabela">
                    <p-button class="btn-pets" type="button" (click)="showDialog(tutor)" label="PETS"></p-button>
                    <p-button class="btn-atualizar" type="button" (click)="atualizarTutorDialog(tutor)" label="Atualizar"></p-button>
                    <p-button class="btn-desativar" type="button" (click)="confirm(tutor)" label="Desativar"></p-button>
                </td>
            </tr>
        </ng-template>
    </p-table>
</div>

<p-confirmDialog acceptLabel="Confirmar" rejectLabel="Cancelar" header="Confirmação" icon="pi pi-exclamation-triangle">
    
</p-confirmDialog>

<p-dialog header="Lista de pets do tutor" [(visible)]="display" [style]="{width: '60%'}">
    <div class="card">
        <p-table [value]="tutorPacientes" [scrollable]="true" scrollHeight="400px" [tableStyle]="{'min-width': '50rem'}">
            <ng-template pTemplate="header">
                <tr>
                    <th>Nome</th>
                    <th>Espécie</th>
                    <th>Raça</th>
                    <th>Idade</th>
                    <th>Peso</th>
                    <th>Resultado triagem</th>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-tutorPacientes>
                <tr>
                    <td>{{tutorPacientes.nome}}</td>
                    <td>{{tutorPacientes.especie}}</td>
                    <td>{{tutorPacientes.raca}}</td>
                    <td>{{tutorPacientes.idade}}</td>
                    <td>{{tutorPacientes.peso}}</td>
                    <td>{{tutorPacientes.eResultadoTriagem}}</td>
                </tr>
            </ng-template>
        </p-table>
    </div>
</p-dialog>

<p-dialog header="Atualizar Dados" [(visible)]="displayAtualizar">
    <form class="form-container"  [formGroup]="tutorForm" (ngSubmit)="submitAtualizarTutor()" #formDir="ngForm">
        <div class="form-group">
            <label for="nome">Nome</label>
            <input type="text" id="nome" formControlName="nome" pInputText/>
        </div>
        <div class="form-group">
            <label for="nome">CPF</label>
            <p-inputMask mask="999.999.999-99" id="cpf" formControlName="cpf"></p-inputMask>
        </div>
        <div class="form-group">
            <label for="nome">Endereço</label>
            <input type="text" id="endereco" formControlName="endereco" pInputText/>
        </div>
        <div class="form-group">
            <label for="nome">Telefone</label>
            <p-inputMask mask="(99) 9 9999-9999" id="telefone" formControlName="telefone"></p-inputMask>
        </div>
        <div class="form-group">
            <label for="nome">Data de nascimento</label>
            <p-inputMask formControlName="dataNascimento" mask="99/99/9999" placeholder="99/99/9999" slotChar="dd/MM/yyyy" id="dataNascimento"></p-inputMask>
        </div>
        <div class="acoes">
            <p-button type="submit">Atualizar</p-button>
        </div>
    </form>
</p-dialog>



